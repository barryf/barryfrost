{%- extends 'layout.njk' %}
{%- import 'macros/icon.njk' as icon %}

{%- block content %}
<div class="h-feed">
  <div class="flex mb-8 text-lg md:text-xl leading-6 md:leading-7 text-gray-600 dark:text-gray-400">
    {%- include 'includes/author.njk' %}
    <span class="text-gray-400 dark:text-gray-600 mx-1">/</span>
    <h1 class="inline text-gray-800 dark:text-gray-200 uppercase">{{ title }}</h1>
  </div>

  <ul>
    {%- for post in posts %}
      <li class="h-entry mb-8">

        <div class="mb-0.5 text-sm md:text-base">
          <span class="text-gray-500">
            {{ icon.icon(post['post-type'][0]) }}
          </span>
          {%- include 'includes/published.njk' %}
        </div>

        {%- if post.properties.name %}
          <h2 class="p-name text-lg md:text-xl tracking-tight text-gray-800 dark:text-gray-200 {{ 'font-bold' if post['post-type'] == 'article' }}">
            {%- if post['post-type'][0] == 'bookmark' %}
              <a href="{{ post.properties['bookmark-of'][0] }}" class="hover:text-yellow-600 dark:hover:text-yellow-600">
                {{ post.properties.name[0] }}
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="inline w-4 h4 md:w-5 md:h-5 -mt-0.5">
                  <path d="M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z" />
                  <path d="M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z" />
                </svg>
              </a>
            {%- else %}
              <a href="{{ post.url[0] }}" class="hover:text-yellow-600 dark:hover:text-yellow-600">
                {{ post.properties.name[0] }}
              </a>
            {%- endif %}
          </h2>
        {%- endif %}

        {%- include 'includes/summary.njk' %}

      </li>
    {%- endfor %}
  </ul>
</div>

<div class="flex">
  {%- if nextInt %}
    <div class="flex-1 text-right uppercase text-base md:text-lg text-gray-600 dark:text-gray-400">
      <a href="?before={{ nextInt }}" rel="nofollow next" class="hover:text-yellow-600 dark:hover:text-yellow-600">
        Next &rarr;
      </a>
    </div>
  {%- endif %}
</div>
{%- endblock %}
